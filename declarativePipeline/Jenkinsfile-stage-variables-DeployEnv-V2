/*
Voce pode definir variaveis a nivel globla e a nivel do step que serao consumidas
e depois descartadas
 */
/* Essas variaveis serao definidas no Jenkins habilitando a opcao
[] This project is parameterized
Crie uma variavel user e packageType

 */
pipeline {
    agent any
    environment {
        // USER_EXECUTOR = variavel do codigo ira receber
        // user = variavel do parametro passado na build
        USER_EXECUTOR = "${user}"
        DEPLOY_TO = "${packageType}"
        ENV = "${env}"
    }
    stages {
        stage('Build all paremeter') {
            when {
                not {
                    equals expected: 'ENV ', actual: 'Prod'
                    equals expected: 'USER_EXECUTOR', actual: 'Alex'
                    equals expected: 'DEPLOY_TO ', actual: '1.0'
                }
            }
            steps {
                echo "Building Deploying  ${user} ${packageType} ${emv}"
            }
        }
    }
}
